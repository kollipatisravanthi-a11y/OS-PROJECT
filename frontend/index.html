<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>User Level Thread Library</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>

<body>
    <h1>Advanced Multi-Core Thread Visualizer</h1>
    <h3 style="color: #666; font-weight: normal; margin-top: -15px;">System: Cross-Platform User-Level Scheduling Core
    </h3>

    <div class="main-container">
        <div class="sidebar">
            <h3>API Documentation</h3>
            <ul>
                <li><strong>uthread_init()</strong><br>Initializes the scheduler.</li>
                <li><strong>uthread_create(func, arg, priority)</strong><br>Creates a new thread.</li>
                <li><strong>uthread_start()</strong><br>Starts the scheduler.</li>
                <li><strong>uthread_yield()</strong><br>Gives control back to scheduler.</li>
                <li><strong>uthread_exit()</strong><br>Terminates the current thread.</li>
            </ul>
            <h3>Code Templates</h3>
            <button class="template-btn" onclick="loadTemplate('basic')">Basic Thread</button>
            <button class="template-btn" onclick="loadTemplate('priority')">Priority Demo (Aging)</button>
            <button class="template-btn" onclick="loadTemplate('preemption')">Preemption Demo</button>
            <button class="template-btn" onclick="loadTemplate('cooperative')">Cooperative Yielding</button>
            <button class="template-btn" onclick="loadTemplate('mutex')">Mutex Demo</button>
        </div>

        <div class="editor-section">
            <div class="editor-wrapper">
                <pre id="lineNumbers"></pre>
                <textarea id="code" spellcheck="false"></textarea>
                <pre id="highlight" class="language-c"></pre>
            </div>

            <div class="controls">
                <button id="runBtn" onclick="run()">‚ñ∂ Run</button>
                <button onclick="reset()">üîÑ Reset</button>
                <button onclick="pause()">‚è∏ Pause</button>
                <button onclick="resume()">‚ñ∂‚ñ∂ Resume</button>
                <button onclick="stop()">‚èπ Stop</button>
                <button onclick="toggleTheme()">üåô Dark/Light</button>
            </div>
        </div>
    </div>

    <div class="output-tabs">
        <button class="tab-btn active" onclick="showTab('scheduler')">Scheduler Log</button>
        <button class="tab-btn" onclick="showTab('threads')">Thread Output</button>
        <button class="tab-btn" onclick="showTab('aging')">Aging & Queue</button>
    </div>
    <div id="schedulerTab" class="tab-content active">
        <pre id="schedulerLog"></pre>
    </div>
    <div id="threadsTab" class="tab-content">
        <pre id="threadOutput"></pre>
    </div>
    <div id="agingTab" class="tab-content">
        <pre id="agingLog"></pre>
    </div>

    <h3>Gantt Chart</h3>
    <div class="legend">
        <span style="background:#16a34a">Running</span>
        <span style="background:#dc2626">Preempted</span>
        <span style="background:#2563eb">Yield</span>
        <span style="background:#ea580c">Blocked</span>
        <span style="background:#9333ea">Unblocked</span>
        <span style="background:#777">Finished</span>
        <span style="background:#f59e0b">Created</span>
        <span style="background:#64748b">System Start</span>
    </div>
    <div id="gantt"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-c.min.js"></script>
    <script src="script.js"></script>
</body>

</html>